{% include "_common_header.html" %}
<body>
    {% include "_manage_side_nav.html" %}
    <div class="col-md-9">
        <script type="text/javascript">
            var testEditor;
            $(function() {
                testEditor = editormd("test-editormd", {
                    width : "100%",
                    height : 530,
                    syncScrolling : "single",
                    path : "/static/editormd/lib/",
                    imageUpload    : true,
                    imageFormats   : ["jpg", "jpeg", "gif", "png", "bmp", "webp"],
                    imageUploadURL : "/upload",
                    saveHTMLToTextarea : true,
                    editorTheme: "pastel-on-dark",
                    theme: "gray",
                    previewTheme : "dark",
                });
            });
            //获取输入的js文本
            testEditor.getHTML();
        </script>
        <form action="/edit_article/alter/" method="post" id="login-form">
            {% csrf_token %}
            <input name="article_id" type="hidden" value="{{ article_id }}"/>

            <div class="editormd" id="test-editormd">
            <textarea class="editormd-markdown-textarea" name="content">
                {{ content }}
            </textarea>
                <!-- 第二个隐藏文本域，用来构造生成的HTML代码，方便表单POST提交，这里的name可以任意取，后台接受时以这个name键为准 -->
                <textarea class="editormd-html-textarea" name="html_content"></textarea>
            </div>

            <div class="text-right">
                <span class="form-group-btn">
                    <button class="btn btn-default" type="submit">提交</button>
                    <button class="btn btn-default" type="button" onclick="javascript:window.location.hash='#test'">预览</button>
                </span>
            </div>
        <form>
    </div>
</body>
</html>